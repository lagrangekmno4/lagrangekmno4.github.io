<!DOCTYPE html>
<html lang="zh-CN" color-mode="light">

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <meta name="author" content="lagrangekmno4" />
  <meta name="description" content="" />
  
  
  <title>
    
      清华园之旅——2024.7 
      
      
      |
    
     一个小窝
  </title>

  
    <link rel="apple-touch-icon" href="/images/avator.jpg">
    <link rel="icon" href="/images/avator.jpg">
  

  <!-- Raleway-Font -->
  <link href="https://fonts.googleapis.com/css?family=Raleway&display=swap" rel="stylesheet">

  <!-- hexo site css -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1886449_67xjft27j1l.css" />
  <!-- 代码块风格 -->
  

  <!-- jquery3.3.1 -->
  
    <script defer type="text/javascript" src="/plugins/jquery.min.js"></script>
  

  <!-- fancybox -->
  
    <link href="/plugins/jquery.fancybox.min.css" rel="stylesheet">
    <script defer type="text/javascript" src="/plugins/jquery.fancybox.min.js"></script>
  
  
<script src="/js/fancybox.js"></script>


  

  
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  <script>
    var html = document.documentElement
    const colorMode = localStorage.getItem('color-mode')
    if (colorMode) {
      document.documentElement.setAttribute('color-mode', colorMode)
    }
  </script>
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="一个小窝" type="application/atom+xml">
</head>


  <body>
    <div id="app">
      <div class="header">
  <div class="avatar">
    <a href="/">
      <!-- 头像取消懒加载，添加no-lazy -->
      
        <img src="/images/avator.jpg" alt="">
      
    </a>
    <div class="nickname"><a href="/">Lagrangekmno4</a></div>
  </div>
  <div class="navbar">
    <ul>
      
        <li class="nav-item" data-path="/">
          <a href="/">Home</a>
        </li>
      
        <li class="nav-item" data-path="/archives/">
          <a href="/archives/">Archives</a>
        </li>
      
        <li class="nav-item" data-path="/about/">
          <a href="/about/">About</a>
        </li>
      
        <li class="nav-item" data-path="/projects/">
          <a href="/projects/">Projects</a>
        </li>
      
        <li class="nav-item" data-path="https://mathloveyou.github.io">
          <a target="_blank" rel="noopener" href="https://mathloveyou.github.io">数学指南</a>
        </li>
      
    </ul>
  </div>
</div>


<script src="/js/activeNav.js"></script>



      <div class="flex-container">
        <!-- 文章详情页，展示文章具体内容，url形式：https://yoursite/文章标题/ -->
<!-- 同时为「标签tag」，「朋友friend」，「分类categories」，「关于about」页面的承载页面，具体展示取决于page.type -->


  <!-- LaTex Display -->

  
    <script async type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    }
  </script>





  <!-- clipboard -->

  
    <script async type="text/javascript" src="/plugins/clipboard.min.js"></script>
  
  
<script src="/js/codeCopy.js"></script>







  

  

  

  
  <!-- 文章内容页 url形式：https://yoursite/文章标题/ -->
  <div class="container post-details" id="post-details">
    <div class="post-content">
      <div class="post-title">清华园之旅——2024.7</div>
      <div class="post-attach">
        <span class="post-pubtime">
          <i class="iconfont icon-updatetime mr-10" title="更新时间"></i>
          2024-07-28 03:58:49
        </span>
        
      </div>
      <div class="markdown-body">
        <h1 id="7-1"><a href="#7-1" class="headerlink" title="7.1"></a>7.1</h1><p>七月的第一天从起床吃午饭开始（</p>
<p>跟Yunzong Xu进行了第二次meeting，终于说中文了，好好好（。老师是四字班的，其实从年龄上来看也就比我大七八岁的样子，相对而言也很好说话，能套到还是血赚的。给了我一篇econ的文章，大概是一篇关于certification下的购买关系优化的一篇文章，econ的文章确实读起来对语言上的要求比数学和cs多很多，有很多<del>高级词汇</del>需要查一下google，提醒我该准备一下托福了。但是数学模型很简单优雅，相比于learning theory的暴力美学还是好看不少。</p>
<h1 id="7-3"><a href="#7-3" class="headerlink" title="7.3"></a>7.3</h1><p>无聊（</p>
<p>6号回北京，把宿舍的事情安顿好应该就可以开启在学校的度假生活了。现在相当于是Rui Gao和Yunzong Xu两个老师双线程了，Yining Wang和周源明显是没太有想hands-on的想法，就先搁置下来了，目前最好的结果是在明年3月之前两边至少有一个能有纸面上的初步成果，而且两个都没有直接烂尾，然后用这个初步成果和两段科研经历去套target school的线下暑研。而可以预见的是，如果真的打算好好处理这一段双线程的话，下一学年的课表势必要做的稀疏一点，尤其是春季学期更是如此，毕竟春季学期普遍成绩要略烂一些（？。两位老师都非常hands-on，Yunzong甚至直接定了weekly的meeting，而且在主观能动性的同时给了一些明确的任务虽然这些任务看起来像课程作业（，但总之比之前几次不是很成功的求师尝试强太多了。回学校后每天看看paper学学数学和英语练练琴，再适当添加一些现充活动（真的能有吗），差不多就是从现在到八月底的生活状态了，数学壬的生活终究还是简单.jpg</p>
<p>Optimal Quality Certification已经看的差不多了，这篇因为本来就是econ的文章数学确实很简单，无非是一个故事罢了，导师应该是想让我搞一个英文的presentation讲一下这篇paper，然后让我试着提几个idea，其实这篇文章大概就是给了一个品质（影响购买）和成本的 trade-off，但有一个问题是，成本和品质的关系是stochastic的，而购买者对品质的把控是通过regulator的certification得到的，而这个certification其实是对品质的一个partition，而optimization的本质是买方和卖方的一个game，而regulator则可以起到优化一个类似nash点的一个作用。所以如果能给idea的话，trivial的一些想法是首先这个成本和品质的关系可以设为未知的，然后用bandits去学（被周源的paper同化了x），还有一些可能能从gaming theory的角度去想一些更具体的设定。这个再根据他提供的reference想想吧，下一次的meeting是12号，但以后就是一周一次了。</p>
<p>最近钢琴在练秒五的ed <em>one more time, one more chance</em> <del>因为这个确实比较好练</del>，因为哥们还确实一直没看过秒五昨天晚上睡不着看了看，结果看完了一头雾水遗憾离场，是哥们经验太浅了吗（？</p>
<h1 id="7-4"><a href="#7-4" class="headerlink" title="7.4"></a>7.4</h1><p>无聊（</p>
<p>随便看了看paper做了做托福，快要回北京了，睡会觉了（</p>
<h1 id="7-8"><a href="#7-8" class="headerlink" title="7.8"></a>7.8</h1><p>回北京并把宿舍搬到了紫7，虽然只住十几天但也算体验一下新服务器。这学期的成绩果然跟上学期没得比，pde寄了就算了，没想到这高维还被背刺了，但相较于这学期的死亡过程来看，至少没有出现拉低总gpa的情况，已经算是万幸，而且拿到了相对之前较多的A，无所谓了。</p>
<p>后面几天争取不窝在宿舍了，至少每天去三教自习一下，到周末出去逛一逛吃点好的这样子（</p>
<h1 id="7-11"><a href="#7-11" class="headerlink" title="7.11"></a>7.11</h1><p>所以明天就要用英语给xyz汇报读paper的summary了怎么办（。感觉要写个没有那么通的通稿，不然语言都是问题。从optimal quality certification这篇论文trace back到了persuasion和delegation的问题，打开了经济博弈论的新大门，但感觉还是读的云里雾里，很多term其实不是很熟。UT Austin那边的老师给了一个纯优化的问题，还没仔细看paper。暑假里应付两个老师的任务并不是很难，但很难说开了学之后我的进度会怎么样。首先这两个projects都是纯理论的，我没办法用跑实验这样的苦力活来磨洋工，其次这两个老师的方向不能说完全不同只能说在我这里没什么关系，这或许是一件好事情因为我的申请范围可以相应拓宽一些，但开了学之后我的课程也很难说有那么少。</p>
<p>你清终于有了统计系，与此同时看到了南大的学弟发的南大数学系改数院的公告。我曾一再思考自己出国的目的，现在的目的算是比较明确：给自己一个走教职路线的可能，加上你清研究生确实没有适合我读的；换句话说如果哥们真的在北大数院而且也够保研资格，可能真就是九年北大人一生燕园情了，甚至说哪怕yuanzhou是在什么经管或者茶园而不是数学系这种研究生没饭吃或者求真这种需要每年回我家附近拜拜孔子的地方，或者说其他地方比如工工什么的有做or theory的老师我可能至少都会犹豫很久，但至少现在是没有什么犹豫的。统计系发展起来也是几年之后的事情了，苟延残喘的数学系能不能全系并入书院也是遥遥无期，无论去哪都不是最优解甚至属于找坑跳。至于出国的去向，科研之路的开局相对而言已经比较顺利，哪怕phd去这两个老师中的一个也绝对不是烂完的水平了，毕竟uiuc在cs那边似乎也不是很烂的结果了（挠头），唯一的遗憾可能是自己最心水的两位ap也就是Cornell的Ruihao Zhu和Booth的Linwei Xin都没有回复了，而其实自己的target也就是这两个学校的level，至于top project只能说算梦想但不能算目标，所以出国或许至少是个相对稳定正收益的选择了。或者抛开这些功利地事情不谈，一些或许自己不愿意承认的事情是，或许是觉得自己直到现在的本科生涯总体来看还是不尽如人意，出国与其说寻找更好的出路不如说是给自己一个重头再来的机会，毕竟在你清读研大概率还会延续本科的一切，无非是从烂完了继续烂下去，而逃离这里的话至少会有一种“不会再烂下去的”感觉，这样的想法或许比前面絮叨的那一堆更重要。</p>
<h1 id="7-12"><a href="#7-12" class="headerlink" title="7.12"></a>7.12</h1><p>继续度过宿舍单间生活，确实是个修炼的大好时机，除了有些过于无聊自闭了之外只有好处没有坏处。至少除了这种时候我是绝对不会专门花时间提高自己的英语水平的。当然实际上还是因为自己英语实在菜的离谱，裸考托福别说上百哪怕90我都不好说，是的哥们六级刚过500（，或者至少可以说自从自己搞完并不困难的山东英语高考、并且熟练的能够阅读英文数学文献之后，我的英语水平一直在稳定下降，所以此诚危急存亡之秋也。目前的策略大概就是突击一下单词然后刷一刷题，阅读练了几天TPO感觉总体问题不大，基本上再练一练套路就可以了；听力我竟然感觉比四六级要简单一些，或许是因为没有那种“你要去美国吗，不我要跟法国的同学一起去英国和葡萄牙的老师学西班牙语”这种逆天东西，哥们把大概内容听明白就可以，而且可能问题放在内容后面反而会减少对我的干扰，而且我本人也不太喜欢做那么多笔记，但目前错的还是有点多。写作还没看，口语目前还是依托（，难搞。xyz倒是可以push我练一练口语，毕竟所有presentation是要求我用英语讲的，但毕竟学术用的就那几个句子和单词，可能还是要多练一练。总之9月7号在济南考，准备两个月总得过个百吧哥们不疼2k1哥们是不想再在这种b考试上准备两次（（</p>
<h1 id="7-13"><a href="#7-13" class="headerlink" title="7.13"></a>7.13</h1><p>今早和导师进行了一次meeting，汇报了一下情况，大概确定了一个可行的路子是根据现有的故事来model出来一个multi-agent bandits problem，然而哥们bandits其实也不是那么熟，所以后面两周的任务应该一方面就是去尝试做出来一个比较well-defined的问题，另一个就是补一补bandits尤其是multi-agent相关的一些内容。</p>
<p>实践那边最近应该在准备，坦诚讲这次开的盲盒有点……一言难尽，摊到的负责人和队友都有点让人摸不着头脑，然而这已经是我第四次参加实践了，而这之后大概率也就只有下一个寒假还会有些时间，以及申请季疑似会严格在寒假之前，那最后那个寒假或许还能玩一把。某种程度上碰到逆天也确实没那么值得悲愤，作为普通成员的我更多的也只是做好我分内的事情就可以了。</p>
<p>暑假估计是没有时间自己出去玩了，至少这托福还要硬控我一段时间，看情况再说吧。</p>
<h1 id="7-15"><a href="#7-15" class="headerlink" title="7.15"></a>7.15</h1><p>这两天一直在睡觉，怎么回事呢（？</p>
<p>一直在等有人建一个二字班的出国群但等到现在也没人建，遂自己硬着头皮搞了一个（，但目前还是死群，社恐人也不知道要怎么让群活起来，先把人攒一攒再说罢。其实于私上来讲更希望的是能找到方向相似的同学。</p>
<h1 id="7-17"><a href="#7-17" class="headerlink" title="7.17"></a>7.17</h1><p>后天要汇报了，没有能汇报的东西怎么办，急了（</p>
<p>看了一些multi-agent bandits theory的东西，大概就是想把一篇文章中的 setting 改成 social welfare ，但现在讲不出来很 convincing 的故事，急急急。而且自己的推bound功底也需要练一练，虽然我目前上主观认为<del>这是个苦力活</del>。</p>
<p>好无聊，感觉真的有点闭关修炼的感觉了（？</p>
<h1 id="7-24"><a href="#7-24" class="headerlink" title="7.24"></a>7.24</h1><p>七月基本上过的差不多了，最后几天去实践顺便当途中休息。目前的进度还算比较乐观的，两个暑研的基本问题设定已经摸清的差不多了，目前可能Rui Gao那边的题目还要了解一些nonconvex-nonsmooth优化的先验知识，顺便看一些optimal transport的notes，但其实目前的知识已经足够搞明白问题的设定了，只是说过于不熟练以至于还没有能力做一些足够convincing的推导。Yunzong Xu那边正在build整个问题的设定，目前在想到底是让producer和regulator分别去学习customer的行为，因为certification和persuasion中的customer都有一个outside option，而这个outside option会和quality和price进行比较来决定是否进行购买，而incentive learning的设定则是regulator也就是principal去设定一个算法让agents的总和收益最大，这里agent则是在若干选择里面选其一，两个之间的本质是有不同的。而对于前者的话，一个可行的想法就是通过类似于certification的技术去在push生产者提供更优质性价比更高的产品同时，也去学习customer的外部决策分布，从而用incentive的方法激励customer进行更多的尝试，来对生产者进行更好的学习，但相比之下难度应该是很大的，首先算法中有两个agent，而且需要学习的是分布而非参数，非参的话用到的技术就非常复杂了，或者可以简化一下regulator可以控制的量只有一个threshold。</p>
<p>现在托福是比较棘手的，阅读理解错2个之内基本是问题不大了，但是听力问题还是比较大，目前好的话错三四个，要是有一篇寄了整个什么2&#x2F;5或者3&#x2F;6那就崩坏了。不得不说底子还是太差了，不知道首考能不能过百。最近实在是有点单调乏味了，有点想开学了就是说（</p>
<h1 id="7-28"><a href="#7-28" class="headerlink" title="7.28"></a>7.28</h1><p>因为要赶早7的高铁所以直接决定睡了一下午晚上8点多起床吃了个外卖，然后肯定就打算熬通宵了，这晚上也挺无聊没啥事可干，干脆写点东西。</p>
<p>暑假的第一阶段算是结束了，后面会有10天左右出去玩的时间，期间应该除了保持最基本的论文摄入包括思考、和英语学习之外应该就没有什么别的任务了。前段时间的进度总体还算可以，英语听力这几天也能控制在了错5个以内，后面的时间可以主要放在听力口语上了。其实目前来看到9月7号的首考过百，以目前的学习强度加上最后几天肯定会加量来看，是问题不大的，但问题是口语小分估计不太够用，且不说到时候没办法靠当TA恰烂钱，很多学校要求22&#x2F;23的托福小分都达不到肯定是不够看的；更何况如果口语始终达不到沟通水平的话，只能找华人导师套磁已经是一个很大的限制了，毕竟OR track华人导师显然比stats和cs而言少了太多，所以多花些时间应该还是不亏的。</p>
<p>目前的学习状态和进度肯定是不可持续的，且不说学这个英语对我来说除了应付考试和获得最基本的沟通水平之外毫无正反馈，单是目前天天窝在宿舍里看paper，尽管效率确实是惊人的，但如果一直持续下去，那我可能早晚要疯掉。或者说我向往的PhD生活包括更远的生活或许可以是忙碌的，但至少不应该是只忙碌一件事情，<del>哪怕做科研都最好和现在一样双线并行，这样至少有一条线想开摆的时候可以看一看另一条线</del>，事实上我也确实是这么做的，相比之下Rui Gao那边的研究需要的知识前置更多，涉及到的东西也更数学，所以直到现在我也基本上是在看paper；而Yunzong Xu那边的基本上用到的数学都是初等的，但最大的难度在于modeling，所以用在思考上的时间则相对更多。但开学之后我可能更希望能留出一些时间来更casually的学一些数学，比如其实直到现在我也没有好好把bandits algorithm那本书好好过一遍（虽然周源的那门课会督促我完成这件事情），比如其实我的概率论和随机过程的东西掌握的其实一坨，如此种种，需要补的东西也是很多的。</p>
<p>不过事实上我也做出了一些妥协——比如之前想的自己以爱好的定位学一些代数的东西是完全不现实的，目前现实的出国申请的压力确实至多只允许我深度发展一种爱好，而相比之下，我自然会选择音乐而非数学。事到如今我也不得不承认，现阶段在限度之内去一个相对来说更能看的PhD项目对我全局的发展来看还是仍然有必要的，后面的这一年半的时间内可能也不会给我太多的时间去以娱乐的心态去尝试一些新的事物。</p>

      </div>
      
        <div class="prev-or-next">
          <div class="post-foot-next">
            
          </div>
          <div class="post-attach">
            <span class="post-pubtime">
              <i class="iconfont icon-updatetime mr-10" title="更新时间"></i>
              2024-07-28 03:58:49
            </span>
            
          </div>
          <div class="post-foot-prev">
            
              <a href="/2024/08/05/%E6%B8%85%E5%8D%8E%E5%9B%AD%E4%B9%8B%E6%97%85%E2%80%94%E2%80%942024-8/" target="_self">
                <span>下一页</span>
                <i class="iconfont icon-chevronright"></i>
              </a>
            
          </div>
        </div>
      
    </div>
    
  <div id="btn-catalog" class="btn-catalog">
    <i class="iconfont icon-catalog"></i>
  </div>
  <div class="post-catalog hidden" id="catalog">
    <div class="title">目录</div>
    <div class="catalog-content">
      
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#7-1"><span class="toc-text">7.1</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-3"><span class="toc-text">7.3</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-4"><span class="toc-text">7.4</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-8"><span class="toc-text">7.8</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-11"><span class="toc-text">7.11</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-12"><span class="toc-text">7.12</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-13"><span class="toc-text">7.13</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-15"><span class="toc-text">7.15</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-17"><span class="toc-text">7.17</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-24"><span class="toc-text">7.24</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-28"><span class="toc-text">7.28</span></a></li></ol>
      
    </div>
  </div>

  
<script src="/js/catalog.js"></script>




    
      <div class="comments-container">
        




  
    <script async type="text/javascript" src="/plugins/valine.min.js" onload="loadValineSuc(this)"></script>
  

  <div id="vcomments"></div>

  <script>
    function loadValineSuc() {
      new Valine({
        el: '#vcomments',
        appId: 'KT54T08PQj0P3C1qnUfcBJCR-gzGzoHsz',
        appKey: 'vzHGva5HtwNi5pMFrfLCvcNv',
        placeholder: 'Welcome!',
        avatar: 'retro',
        lang: 'zh-CN'
      })
    }
  </script>

    <style>
      .comments-container .v .vempty {
        display: none!important;
      }
    </style>




      </div>
    
  </div>


        
<div class="footer">
  <div class="social">
    <ul>
      
        <li>
          <a title="github" target="_blank" rel="noopener" href="https://github.com/lagrangekmno4">
            <i class="iconfont icon-github"></i>
          </a>
        </li>
      
        <li>
          <a title="email" href="liuzhang21@mails.tsinghua.edu.cn">
            <i class="iconfont icon-envelope"></i>
          </a>
        </li>
      
    </ul>
  </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Copyright © 2024 Oranges</a>
        
    </div>
  
    
    <div class="footer-more">
      
        <a target="_blank" rel="noopener" href="https://github.com/zchengsite/hexo-theme-oranges">Theme by Oranges | Powered by Hexo</a>
        
    </div>
  
  
    <div class="footer-views">
      
          本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
      
          本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        
      
          本站访客数<span id="busuanzi_value_site_uv"></span>人
        
      
    </div>
  
</div>

      </div>

      <div class="tools-bar">
        <div class="back-to-top tools-bar-item hidden">
  <a href="javascript: void(0)">
    <i class="iconfont icon-chevronup"></i>
  </a>
</div>


<script src="/js/backtotop.js"></script>



        
  <div class="search-icon tools-bar-item" id="search-icon">
    <a href="javascript: void(0)">
      <i class="iconfont icon-search"></i>
    </a>
  </div>

  <div class="search-overlay hidden">
    <div class="search-content" tabindex="0">
      <div class="search-title">
        <span class="search-icon-input">
          <a href="javascript: void(0)">
            <i class="iconfont icon-search"></i>
          </a>
        </span>
        
          <input type="text" class="search-input" id="search-input" placeholder="搜索...">
        
        <span class="search-close-icon" id="search-close-icon">
          <a href="javascript: void(0)">
            <i class="iconfont icon-close"></i>
          </a>
        </span>
      </div>
      <div class="search-result" id="search-result"></div>
    </div>
  </div>

  <script type="text/javascript">
    var inputArea = document.querySelector("#search-input")
    var searchOverlayArea = document.querySelector(".search-overlay")

    inputArea.onclick = function() {
      getSearchFile()
      this.onclick = null
    }

    inputArea.onkeydown = function() {
      if(event.keyCode == 13)
        return false
    }

    function openOrHideSearchContent() {
      let isHidden = searchOverlayArea.classList.contains('hidden')
      if (isHidden) {
        searchOverlayArea.classList.remove('hidden')
        document.body.classList.add('hidden')
        // inputArea.focus()
      } else {
        searchOverlayArea.classList.add('hidden')
        document.body.classList.remove('hidden')
      }
    }

    function blurSearchContent(e) {
      if (e.target === searchOverlayArea) {
        openOrHideSearchContent()
      }
    }

    document.querySelector("#search-icon").addEventListener("click", openOrHideSearchContent, false)
    document.querySelector("#search-close-icon").addEventListener("click", openOrHideSearchContent, false)
    searchOverlayArea.addEventListener("click", blurSearchContent, false)

    var searchFunc = function (path, search_id, content_id) {
      'use strict';
      var $input = document.getElementById(search_id);
      var $resultContent = document.getElementById(content_id);
      $resultContent.innerHTML = "<ul><span class='local-search-empty'>首次搜索，正在载入索引文件，请稍后……<span></ul>";
      $.ajax({
        // 0x01. load xml file
        url: path,
        dataType: "xml",
        success: function (xmlResponse) {
          // 0x02. parse xml file
          var datas = $("entry", xmlResponse).map(function () {
            return {
              title: $("title", this).text(),
              content: $("content", this).text(),
              url: $("url", this).text()
            };
          }).get();
          $resultContent.innerHTML = "";

          $input.addEventListener('input', function () {
            // 0x03. parse query to keywords list
            var str = '<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length <= 0) {
              return;
            }
            // 0x04. perform local searching
            datas.forEach(function (data) {
              var isMatch = true;
              var content_index = [];
              if (!data.title || data.title.trim() === '') {
                data.title = "Untitled";
              }
              var orig_data_title = data.title.trim();
              var data_title = orig_data_title.toLowerCase();
              var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
              var data_content = orig_data_content.toLowerCase();
              var data_url = data.url;
              var index_title = -1;
              var index_content = -1;
              var first_occur = -1;
              // only match artiles with not empty contents
              if (data_content !== '') {
                keywords.forEach(function (keyword, i) {
                  index_title = data_title.indexOf(keyword);
                  index_content = data_content.indexOf(keyword);

                  if (index_title < 0 && index_content < 0) {
                    isMatch = false;
                  } else {
                    if (index_content < 0) {
                      index_content = 0;
                    }
                    if (i == 0) {
                      first_occur = index_content;
                    }
                    // content_index.push({index_content:index_content, keyword_len:keyword_len});
                  }
                });
              } else {
                isMatch = false;
              }
              // 0x05. show search results
              if (isMatch) {
                str += "<li><a href='" + data_url + "' class='search-result-title'>" + orig_data_title + "</a>";
                var content = orig_data_content;
                if (first_occur >= 0) {
                  // cut out 100 characters
                  var start = first_occur - 20;
                  var end = first_occur + 80;

                  if (start < 0) {
                    start = 0;
                  }

                  if (start == 0) {
                    end = 100;
                  }

                  if (end > content.length) {
                    end = content.length;
                  }

                  var match_content = content.substr(start, end);

                  // highlight all keywords
                  keywords.forEach(function (keyword) {
                    var regS = new RegExp(keyword, "gi");
                    match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
                  });

                  str += "<p class=\"search-result-abstract\">" + match_content + "...</p>"
                }
                str += "</li>";
              }
            });
            str += "</ul>";
            if (str.indexOf('<li>') === -1) {
              return $resultContent.innerHTML = "<ul><span class='local-search-empty'>没有找到内容，请尝试更换检索词。<span></ul>";
            }
            $resultContent.innerHTML = str;
          });
        },
        error: function(xhr, status, error) {
          $resultContent.innerHTML = ""
          if (xhr.status === 404) {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>未找到search.xml文件，具体请参考：<a href='https://github.com/zchengsite/hexo-theme-oranges#configuration' target='_black'>configuration</a><span></ul>";
          } else {
            $resultContent.innerHTML = "<ul><span class='local-search-empty'>请求失败，尝试重新刷新页面或稍后重试。<span></ul>";
          }
        }
      });
      $(document).on('click', '#search-close-icon', function() {
        $('#search-input').val('');
        $('#search-result').html('');
      });
    }

    var getSearchFile = function() {
        var path = "/search.xml";
        searchFunc(path, 'search-input', 'search-result');
    }
  </script>




        
  <div class="tools-bar-item theme-icon" id="switch-color-scheme">
    <a href="javascript: void(0)">
      <i id="theme-icon" class="iconfont icon-moon"></i>
    </a>
  </div>

  
<script src="/js/colorscheme.js"></script>





        
  
    <div class="share-icon tools-bar-item">
      <a href="javascript: void(0)" id="share-icon">
        <i class="iconfont iconshare"></i>
      </a>
      <div class="share-content hidden">
        
          <a class="share-item" href="https://twitter.com/intent/tweet?text=' + %E6%B8%85%E5%8D%8E%E5%9B%AD%E4%B9%8B%E6%97%85%E2%80%94%E2%80%942024.7 + '&url=' + http%3A%2F%2Flarangekmno4.github.io%2F2024%2F07%2F01%2F%25E6%25B8%2585%25E5%258D%258E%25E5%259B%25AD%25E4%25B9%258B%25E6%2597%2585%25E2%2580%2594%25E2%2580%25942023-7%2F + '" target="_blank" title="Twitter">
            <i class="iconfont icon-twitter"></i>
          </a>
        
        
          <a class="share-item" href="https://www.facebook.com/sharer.php?u=http://larangekmno4.github.io/2024/07/01/%E6%B8%85%E5%8D%8E%E5%9B%AD%E4%B9%8B%E6%97%85%E2%80%94%E2%80%942023-7/" target="_blank" title="Facebook">
            <i class="iconfont icon-facebooksquare"></i>
          </a>
        
      </div>
    </div>
  
  
<script src="/js/shares.js"></script>



      </div>
    </div>
  </body>
</html>
